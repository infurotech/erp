<div *ngFor="let comment of comments" class="comment-item p-3 border-round bg-gray-100 mb-2">
    <div class="flex align-items-center justify-content-between  gap-2">
        <div class="flex align-items-center gap-2">
            <p-avatar [image]="comment.avatar" shape="circle" size="small"></p-avatar>
            <span class="text-sm font-semibold">{{ comment.user }}</span>
        </div>
        <span class="text-xs text-secondary">{{ comment.time }}</span>
    </div>
    <p class="m-0 text-sm text-gray-700">{{ comment.text }}</p>
    <div class="mt-3" *ngIf="comment.attachments?.length">
        <div class="flex gap-2 flex-wrap">
            <div *ngFor="let file of comment.attachments"
                class="attachment-item flex align-items-center gap-2 p-2 bg-gray-100 rounded-md">
                <i class="pi pi-paperclip text-sm text-gray-600"></i>
                <span class="text-sm text-gray-800">{{ file.name }}</span>
            </div>
        </div>
    </div>
</div>
<div class="w-full p-3 surface-100 border-round border-rounded">

    <!-- Textarea Box -->
    <div class="flex flex-col border rounded-3xl shadow-sm transition-all"
        [ngClass]="{ 'border-primary shadow-2': isDragging, 'border-surface-300': !isDragging }"
        (drop)="onFileDrop($event)" (dragover)="onDragOver($event)" (dragleave)="onDragLeave($event)">

        <div contenteditable="true" rows="3" placeholder="Write a comment or drop files here..."
            class="flex-1 p-2 outline-none bg-white p-2" (keydown.enter)="sendComment($event)">
        </div>
    </div>

    <!-- ðŸ”¹ Action Buttons Below (Attach left, Send right) -->
    <div class="flex items-center justify-content-between bg-white p-2">

        <!-- ðŸ“Ž Attach Button -->
        <input type="file" hidden #fileUploadInput (change)="attachFile($event)" multiple />
        <p-button icon="pi pi-paperclip" outlined class="p-button-outlined p-button-rounded p-button-sm p-button-text"
            (click)="triggerFileUpload()">
        </p-button>

        <!-- âž¤ Send Button -->
        <p-button icon="pi pi-send" class="p-button-primary p-button-rounded p-button-sm" (click)="sendComment($event)">
        </p-button>

    </div>
</div>