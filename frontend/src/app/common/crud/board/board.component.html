<p-toolbar styleClass="board-toolbar">
    <div class="p-toolbar-group-start">
    </div>
    <div class="p-toolbar-group-center">
    </div>
    <div class="p-toolbar-group-end">
        <p-button (onClick)="boardSettingsMenu.toggle($event)" icon="pi pi-sliders-v" [outlined]="true" class="ml-2"></p-button>
    </div>
</p-toolbar>
<p-tieredMenu #boardSettingsMenu [model]="boardSettings" [popup]="true" />
<div class="flex flex-row scrollable" style=" display: flex; flex-wrap: nowrap; overflow-x: auto;"
    *ngIf="columns && columns.length > 0 ">
    <p-panel [toggleable]="false" *ngFor="let column of columns" styleClass="border-square w-20rem board-column"
        pDroppable (onDrop)="drop(column)">
        <ng-template pTemplate="header">
            <div class="flex align-items-center gap-2">
                <span class="font-bold">
                    {{column}} <p-badge [value]="groupedItems.get(column).length" />
                </span>
            </div>
        </ng-template>
        <ul class="list-none flex flex-column gap-2 p-0 m-0">
            <li *ngFor="let item of groupedItems.get(column)" pDraggable (onDragStart)="dragStart(item)"
                (onDragEnd)="dragEnd()">
                <!-- <p-card>
                    <ng-template pTemplate="title">
                        <h5>{{item.name}}</h5>
                    </ng-template>

                    <ng-template pTemplate="subtitle">
                        {{item.company}}
                    </ng-template>
                    <ng-template pTemplate="footer">
                        <div class="flex justify-content-between">
                            <p-avatarGroup>
                                <p-avatar shape="circle">
                                    <img [alt]="item.representative.name"
                                        src="https://primefaces.org/cdn/primeng/images/demo/avatar/{{item.representative.image}}"
                                        width="32" style="vertical-align: middle" />
                                </p-avatar>
                                <p-avatar
                                    image="https://primefaces.org/cdn/primeng/images/demo/avatar/asiyajavayant.png"
                                    shape="circle" />
                                <p-avatar
                                    image="https://primefaces.org/cdn/primeng/images/demo/avatar/asiyajavayant.png"
                                    shape="circle" />
                                <p-avatar image="https://primefaces.org/cdn/primeng/images/demo/avatar/onyamalimba.png"
                                    shape="circle" />
                            </p-avatarGroup>
                            <div class="flex flex-row gap-3">
                                <p-avatar icon="pi pi-check" pBadge value="4" />
                                <p-avatar icon="pi pi-calendar" pBadge value="4" />
                            </div>
                        </div>
                    </ng-template>
                    <p class="m-0 p-0">
                        Lorem ipsum dolor sit amet...
                    </p>
                </p-card> -->
            </li>
        </ul>
    </p-panel>
</div>
<!-- 
<p-table [value]="customers" sortField="representative.name" sortMode="single" [scrollable]="true" scrollHeight="400px"
    rowGroupMode="subheader" groupRowsBy="representative.name" [tableStyle]="{'min-width': '60rem'}">
    <ng-template pTemplate="header">
        <tr>
            <th>Name</th>
            <th>Country</th>
            <th>Company</th>
            <th>Status</th>
            <th>Date</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="groupheader" let-customer>
        <tr pRowGroupHeader>
            <td colspan="5">
                <img [alt]="customer.representative.name"
                    src="https://primefaces.org/cdn/primeng/images/demo/avatar/{{customer.representative.image}}"
                    width="32" style="vertical-align: middle" />
                <span class="font-bold ml-2">{{customer.representative.name}}</span>
            </td>
        </tr>
    </ng-template>
    <ng-template pTemplate="groupfooter" let-customer>
        <tr>
            <td colspan="5" class="text-right font-bold pr-6">
                Total Customers: {{calculateCustomerTotal(customer.representative.name)}}
            </td>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-customer let-rowIndex="rowIndex">
        <tr>
            <td>
                {{customer.name}}
            </td>
            <td>
                <img src="https://primefaces.org/cdn/primeng/images/demo/flag/flag_placeholder.png"
                    [class]="'flag-' + customer.country.code" style="width: 20px">
                <span class="ml-1 vertical-align-middle">{{customer.country.name}}</span>
            </td>
            <td>
                {{customer.company}}
            </td>
            <td>
                <p-tag [value]="customer.status" [severity]="getSeverity(customer.status)" />
            </td>
            <td>
                {{customer.date}}
            </td>
        </tr>
    </ng-template>
</p-table> -->
<!-- 
<p-table [value]="customers" sortField="representative.name" sortMode="single" [scrollable]="true" scrollHeight="400px"
    rowGroupMode="subheader" groupRowsBy="representative.name" [tableStyle]="{'min-width': '60rem'}">
    <ng-template pTemplate="header">
        <tr>
            <th>Name</th>
            <th>Country</th>
            <th>Company</th>
            <th>Status</th>
            <th>Date</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="groupheader" let-customer>
        <tr pRowGroupHeader>
            <td colspan="5">
                <img [alt]="customer.representative.name"
                    src="https://primefaces.org/cdn/primeng/images/demo/avatar/{{customer.representative.image}}"
                    width="32" style="vertical-align: middle" />
                <span class="font-bold ml-2">{{customer.representative.name}}</span>
            </td>
        </tr>
    </ng-template>
    <ng-template pTemplate="groupfooter" let-customer>
        <tr>
            <td colspan="5" class="text-right font-bold pr-6">
                Total Customers: {{calculateCustomerTotal(customer.representative.name)}}
            </td>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-customer let-rowIndex="rowIndex">
        <tr>
            <td>
                {{customer.name}}
            </td>
            <td>
                <img src="https://primefaces.org/cdn/primeng/images/demo/flag/flag_placeholder.png"
                    [class]="'flag-' + customer.country.code" style="width: 20px">
                <span class="ml-1 vertical-align-middle">{{customer.country.name}}</span>
            </td>
            <td>
                {{customer.company}}
            </td>
            <td>
                <p-tag [value]="customer.status" [severity]="getSeverity(customer.status)" />
            </td>
            <td>
                {{customer.date}}
            </td>
        </tr>
    </ng-template>
</p-table> -->